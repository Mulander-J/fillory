(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{249:function(s,t,n){"use strict";n.r(t);var a=n(47),e=Object(a.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"a007-搭建企业组件库全过程回顾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a007-搭建企业组件库全过程回顾","aria-hidden":"true"}},[s._v("#")]),s._v(" A007_搭建企业组件库全过程回顾")]),s._v(" "),a("h2",{attrs:{id:"问题分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题分析","aria-hidden":"true"}},[s._v("#")]),s._v(" 问题分析")]),s._v(" "),a("h3",{attrs:{id:"现象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#现象","aria-hidden":"true"}},[s._v("#")]),s._v(" 现象")]),s._v(" "),a("p",[s._v("项目A中复用项目B的公共组件时以纯复制粘贴的形式。")]),s._v(" "),a("h3",{attrs:{id:"影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#影响","aria-hidden":"true"}},[s._v("#")]),s._v(" 影响")]),s._v(" "),a("ul",[a("li",[s._v("开发效率低")]),s._v(" "),a("li",[s._v("不同项目相同组件差异维护难")]),s._v(" "),a("li",[s._v("组件关联结构复杂")])]),s._v(" "),a("h3",{attrs:{id:"期望"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#期望","aria-hidden":"true"}},[s._v("#")]),s._v(" 期望")]),s._v(" "),a("ul",[a("li",[s._v("功能重用")]),s._v(" "),a("li",[s._v("业务模块解耦")]),s._v(" "),a("li",[s._v("提高工程编译速度")])]),s._v(" "),a("h3",{attrs:{id:"要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#要求","aria-hidden":"true"}},[s._v("#")]),s._v(" 要求")]),s._v(" "),a("ul",[a("li",[s._v("组件库版本维护")]),s._v(" "),a("li",[s._v("公共组件的单元测试更有必要性")])]),s._v(" "),a("h3",{attrs:{id:"未来"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#未来","aria-hidden":"true"}},[s._v("#")]),s._v(" 未来")]),s._v(" "),a("ul",[a("li",[s._v("可视化页面搭建")]),s._v(" "),a("li",[s._v("自动化测试")])]),s._v(" "),a("h3",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题","aria-hidden":"true"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),a("ul",[a("li",[s._v("开发权限")]),s._v(" "),a("li",[s._v("组件库结构")]),s._v(" "),a("li",[s._v("组件化的范围或最小颗粒度")]),s._v(" "),a("li",[s._v("组件化的拓展性")]),s._v(" "),a("li",[s._v("组件单元测试/用例测试")]),s._v(" "),a("li",[s._v("...")])]),s._v(" "),a("h2",{attrs:{id:"调研结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调研结果","aria-hidden":"true"}},[s._v("#")]),s._v(" 调研结果")]),s._v(" "),a("blockquote",[a("p",[s._v("参考链接")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c39b9a8e51d457cb97b944a",target:"_blank",rel:"noopener noreferrer"}},[s._v("2018，我们的组件化实施之路"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5b7fb59ae51d4538e3319947",target:"_blank",rel:"noopener noreferrer"}},[s._v("完全组件化框架Atoms-mvp"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/weixin_33893473/article/details/88624608",target:"_blank",rel:"noopener noreferrer"}},[s._v("【手牵手】搭建前端组件库（一）"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/weixin_33881050/article/details/88618052",target:"_blank",rel:"noopener noreferrer"}},[s._v("【手牵手】搭建前端组件库（二）"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000015297864",target:"_blank",rel:"noopener noreferrer"}},[s._v("前端架构之路（7） - 私有 npm 仓库"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/jaywcjlove/handbook/blob/master/CentOS/%E5%9C%A85%E5%88%86%E9%92%9F%E5%86%85%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E5%86%85%E9%83%A8%E7%A7%81%E6%9C%89npm%E4%BB%93%E5%BA%93.md#git%E4%BB%93%E5%BA%93%E5%BD%93%E7%A7%81%E6%9C%89npm",target:"_blank",rel:"noopener noreferrer"}},[s._v("在5分钟内搭建企业内部私有npm仓库"),a("OutboundLink")],1)])])]),s._v(" "),a("blockquote",[a("p",[s._v("相关链接")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000015580316",target:"_blank",rel:"noopener noreferrer"}},[s._v("一篇文章解决npm私有包频繁开发调试"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000017970919",target:"_blank",rel:"noopener noreferrer"}},[s._v("使用karma+mocha+chai+sinon+@vue/test-utils为你的组件库增加单元测试"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/jianxian/p/10620198.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("vue之package.json文件解析"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000017927488",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vue CLI3开发环境搭建"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/c028e4cfc8c8",target:"_blank",rel:"noopener noreferrer"}},[s._v("(1)安装部署vuecli3.0"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://ice.work/docs/icestark/start",target:"_blank",rel:"noopener noreferrer"}},[s._v("icestark，一个面向大型系统的微前端解决方案"),a("OutboundLink")],1)])])]),s._v(" "),a("h3",{attrs:{id:"_1-独立化组件-私有-npm-仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-独立化组件-私有-npm-仓库","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.独立化组件+私有 npm 仓库")]),s._v(" "),a("blockquote",[a("p",[s._v("项目外部组件化,​企业内部私有npm仓库+本地跨项目包引用")])]),s._v(" "),a("p",[s._v("优")]),s._v(" "),a("ul",[a("li",[s._v("私有包托管在内部服务器或者单独的服务器上")]),s._v(" "),a("li",[s._v("对于下载，发布，有对应的权限管理")])]),s._v(" "),a("p",[s._v("劣（npm link能适当缓减本地联调压力）")]),s._v(" "),a("ul",[a("li",[s._v("版本号过多，版本号传递过程中的繁琐")]),s._v(" "),a("li",[s._v("组件库与项目间调试困难")]),s._v(" "),a("li",[s._v("需要规范的组件化开发与npm包管理学习成本")])]),s._v(" "),a("h3",{attrs:{id:"_2-monorepo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-monorepo","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.monorepo")]),s._v(" "),a("blockquote",[a("p",[s._v("在一个项目仓库 (repo) 中管理多个模块/包 (package)，不同于常见的每个模块建一个 repo")])]),s._v(" "),a("ul",[a("li",[s._v("区分子项目依赖和公有依赖")]),s._v(" "),a("li",[s._v("体积大，重复依赖 ，考验团队")])]),s._v(" "),a("h3",{attrs:{id:"_3-github-dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-github-dependencies","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.github/@dependencies")]),s._v(" "),a("blockquote",[a("p",[s._v("将组件代码托管在git上，利用git搭建内部私有库")])]),s._v(" "),a("p",[s._v("基本同方案1，便易搭建但版本管理较差")]),s._v(" "),a("h2",{attrs:{id:"实现过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现过程","aria-hidden":"true"}},[s._v("#")]),s._v(" 实现过程")]),s._v(" "),a("p",[s._v("初步选择方案三，利用gitlab快速搭建企业私有组件库。")]),s._v(" "),a("ul",[a("li",[s._v('1.gitlab创建repo "XY_UI"')]),s._v(" "),a("li",[s._v("2.利用vue-cli(v4.2)生成模板项目(勾选vue-router\\store\\less\\mocha-test...)")]),s._v(" "),a("li",[s._v("3.确定项目结构")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("┌──XY_UI\n├────assets //  存放markdown文件中引用的图片素材\n├────blackBox   //  存放草稿或临时数据\n│    └────data.json\n├────dist   //  存放针对src目录build后的静态文件\n├────mock   //  存放模拟请求数据用例\n├────node_modules   //  自有依赖|ignore\n├────packages   //  对外暴露的组件包\n│    ├────assets    //  开发资源（全局样式、素材等）\n│    ├────components    //  单元组件\n│    │      ├────button\n│    │      │       ├────src\n│    │      │       │     ├────style  //  存放样式表\n│    │      │       │     │     └────index.less  //  核心样式\n│    │      │       │     ├────xy-button.vue  //  核心视图\n│    │      │       │     └────index.js  //  核心逻辑\n│    │      │       ├────index.js   //  组件安装脚本\n│    │      │       └────README.md  //  组件开发记录\n│    │      └────README.md  //  开发规范说明\n│    ├────config    //  配置文件\n│    ├────modules    //  业务组件\n│    ├────service    //  请求服务API\n│    ├────tools    //  工具类\n│    ├────plugins    //  第三方插件\n│    ├────index.js    //  包安装脚本\n│    └────README.md  //  组件包相关说明\n├────public   //  app入口html和相关staic资源\n│    ├────favicon.ico\n│    └────index.html\n├────src   //  app代码，提供组件的开发环境\n├────test   //  test代码，负责组件的用例测试\n│    ├────scene //  场景化测试（仅部分核心业务）\n│    └────unit  //  单元组件测试\n├────package.json   //  项目依赖和脚本指令\n└────README.md  //  组件库相关说明\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br")])]),a("ul",[a("li",[s._v("4.打上初始化tag并提交 push tag:init")]),s._v(" "),a("li",[s._v("5.整理组件化清单")]),s._v(" "),a("li",[s._v("6.丰富组件库(以button为例)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  ../packages/components/button/index.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" button  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/pow-button.vue'")]),s._v("\nbutton"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" button "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" button\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  ../packages/index.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./config'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" service "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./service'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" tools "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./tools'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  单元组件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" button "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./components/button'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  业务模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" modulesA "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./modules/modulesA'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 存储组件列表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" components "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    modulesA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，则所有的组件都将被注册")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断是否安装")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("installed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 遍历注册全局组件")]),s._v("\n    components"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("component "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("component"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" component"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断是否是直接引入文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" window "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'undefined'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  如果组件库开发计划耗时较长，可先引用部分第三方UI库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// import ViewUI from 'view-design'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 以下是组件的版本号")]),s._v("\n    version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.2.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  配置信息")]),s._v("\n    config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  API服务初始化")]),s._v("\n    initService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  工具类")]),s._v("\n    tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  第三方UI组件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ViewUI:ViewUI,")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XY_UI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 导出的对象必须具有 install，才能被 Vue.use() 方法安装")]),s._v("\n        install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 以下是具体的组件列表")]),s._v("\n        button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        modulesA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br")])]),a("ul",[a("li",[s._v("7.开发命令")])]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"script"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ui"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue ui"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"serve"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-cli-service serve"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-cli-service build"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test:unit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-cli-service test:unit"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test:scene"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-cli-service test:scene"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#   vue-cli可视化脚手架\nnpm run ui\n#   启动本地开发环境\nnpm run serve\n#   项目src打包\nnpm run build\n#   单元测试脚本\nnpm run test:unit\n#   场景测试脚本\nnpm run test:scene\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("8.外部引用")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 主分支最新代码\nnpm install -S git+http://user@gitlaburl/XY_UI.git\n# 主分支按tag版本下载\n# npm install -S git+http://user@gitlaburl/XY_UI.git#init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-vue.js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import Vue from 'vue'\n// 导入 XY_UI 组件包\nimport packages from '@company/XY_UI/packages'\nconsole.log('XY_UI|version:',packages.version);\n//  安装powerUI\npackages.XY_UI.install(Vue);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"开发规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发规范","aria-hidden":"true"}},[s._v("#")]),s._v(" 开发规范")]),s._v(" "),a("p",[s._v("开发流程：")]),s._v(" "),a("ul",[a("li",[s._v("需求分析")]),s._v(" "),a("li",[s._v("数据层/视图层/逻辑层 设计")]),s._v(" "),a("li",[s._v("组件开发 ./button/src/Button.vue")]),s._v(" "),a("li",[s._v("添加mock_data（如果需要）")]),s._v(" "),a("li",[s._v("撰写说明文档 ./button/README.md")]),s._v(" "),a("li",[s._v("编写测试（单元测试为主） test/unit/button.spec.js")]),s._v(" "),a("li",[s._v("push & notify")])]),s._v(" "),a("p",[s._v("辅助开发：")]),s._v(" "),a("ul",[a("li",[s._v("每个组件单元附加一份README.md，用于开发说明和更新记录")]),s._v(" "),a("li",[s._v("test中针对单元组件做相应的测试用例，测试通过后方可push")])]),s._v(" "),a("p",[s._v("版本号维护：")]),s._v(" "),a("ul",[a("li",[s._v("共由三位数构成（x.x.x），用于开发鉴别版本更新以及项目落地中实现同一时期不同版本的应用需求；")]),s._v(" "),a("li",[s._v("每次push递增第三位数字（x.x.1=>x.x.2）;")]),s._v(" "),a("li",[s._v("每个开发周末添加一个tag，递增第二位数字，并清零第三位（x.1.56=>x.2.0）;")]),s._v(" "),a("li",[s._v("每个稳定交付的季度节点打一个tag，递增第一位数字，并清零第二第三位（0.1.56=>1.0.0）;")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(426),alt:"组件库开发计划"}})]),s._v(" "),a("h2",{attrs:{id:"更新联动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新联动","aria-hidden":"true"}},[s._v("#")]),s._v(" 更新联动")]),s._v(" "),a("p",[s._v("配合"),a("code",[s._v("git-web hooks")]),s._v(" 可以将git的push等信息同步发送至第三方")]),s._v(" "),a("p",[s._v("如钉钉:"),a("a",{attrs:{href:"http://www.mamicode.com/info-detail-2742576.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("钉钉群机器人开发接口"),a("OutboundLink")],1)])])},[],!1,null,null,null);e.options.__file="20200313_console_007.md";t.default=e.exports},426:function(s,t,n){s.exports=n.p+"assets/img/MuOng4.61321995.jpg"}}]);